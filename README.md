# sea-capital-vue

Фронт часть от лендинга Морская столица.

Ссылка: https://rent.morskayastolica.ru/

*Бизнес задача*: Лендинг на котором потенциальные арендаторы бизнес-центра могут выбрать помещение для аренды. Последовательно, но с учетом технических ограничений здания, нужно представить для выбора:
- Корпус
- Желаемые варианты площади
- Этаж
- Расположение на этаже
- Планировку помещения
- Варианты отделки помещения
- Дополнительные инженерные системы в офисе

Выбранные опции должны быть сформированы в pdf заявку и выданы посетителю, а также отправлены менеджеру.

*Дизайн задача*: Лендинг должен быть выполнен в стиле, полноэкранной прокрутки. И с сохранением старых элементов интерфейса оставшихся от предыдущей версии(на Тильде).

*Решение* 
Лендинг был перевёрстан на SPA с использованием Vue.js. Сборка через vue cli. В момент запуска стабильных библиотек для эффекта полноэкранного скрола не нашлось, поэтому во Vue был интегрирован jquery плагин для полноэкранного скрола. В качестве библиотеки компонентов был взят buefy. 
Примерная схема работы конструктора:
1. При загрузке страницы запрашивается список возможных помещений и опций в них
2. При выборе определенного корпуса/этажа/помещения/ на следующий шаг погружается соответствующая схема. При нажатии кнопки назад выбор сохраняется, если вернутся и изменить первые шаги выбор последующих шагов скинется. Если не выбрать ничего будет сделан выбор по умолчанию из возможных на данном шаге вариантов.
3. На шаге выбора отделки выбранные варианты накладываются на базовое изображение новыми слоями. 
4. На шаге отправки формы, выбранные слои из вариантов отделки склеиваются в изображение с помощью html2canvas. Потом добавляются остальные опции и формируется pdf с помощью pdfmake. Он доступен для скачивания посетителю и прикладывается аттачем к форме для отправки на сервер. На сервере запрос принимает PHPMailer и отсылает менеджеру.  





